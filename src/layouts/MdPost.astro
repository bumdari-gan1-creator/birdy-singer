---
import BaseLayout from "./BaseLayout.astro";

const { frontmatter, url } = Astro.props;
const { title, location, author, description, image, pubDate, tags } = frontmatter;
---

<BaseLayout title={title}>
  <main class="page post-page">
    <article class="section-card post-article">
      <header class="post-header">
        <h1 class="post-title">{title}</h1>
        {description && (
          <p class="post-desc">
            {description}
          </p>
        )}

        <div class="post-meta">
  {author && (
    <span class="post-meta-item">
      Published by: <strong>{author}</strong>
    </span>
  )}

  {location && (
    <span class="post-meta-item">
      {location}
    </span>
  )}

  {pubDate && (
    <span class="post-meta-item">
      <time datetime={pubDate}>{pubDate}</time>
    </span>
  )}
</div>


      </header>

      {image?.url && (
        <figure class="post-hero-wrapper">
          <img
            src={image.url}
            alt={image.alt || title}
            class="post-hero"
          />
          {image.alt && (
            <figcaption class="post-hero-caption">
              {image.alt}
            </figcaption>
          )}
        </figure>
      )}

      <section class="post-body">
        <slot />
      </section>

      {tags && tags.length > 0 && (
        <ul class="tag-list">
          {tags.map((tag) => (
            <li class="tag">{tag}</li>
          ))}
        </ul>
      )}
    </article>
  </main>
</BaseLayout>
